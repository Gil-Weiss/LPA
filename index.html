<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Light Programming Interface</title>
        <link rel="stylesheet" href="css/StyleSheet.css">
    </head>
    <body>
        <div>
            <p id="header">
            <a href="http://www.taborlab.rice.edu/" target="_blank" ><span id="labpage">LPI: Tabor lab</span></a>
            <span id="contact">Contact: 
                <a href="mailto:felixekness@gmail.com">Felix Ekness, </a>
                <a href="mailto:lhartsough@gmail.com">Lucas Hartsough, </a>
                <a href="mailto:brian.landry@gmail.com">Brian Landry</a> 
                
            </span>
            </p>
        </div>
        <div id="container">
            <form method="post" id="LPFform" action="/LPIform">
                <fieldset>
                    <p class="legend">Light Device Specifications</p>
                    <ol id="LDSpecs">
                        <li id="devicesli">
                            <select id = "devices" name="devices">
                                <option value = "LTA">Light Tube Array</option>
                                <option value = "LPA">Light Plate Apparatus</option>
                                <option value = "TCA">Two Color Array</option>
                                <option value="custom">Custom Configuration</option>
                            </select>
                        </li>
                        <li><label for="rows">Number of rows</label><input id="rows" type="number" name="rows" value="8" min ="1" max="12" /></li>
                        <li><label for="columns">Number of columns</label><input id="columns" type="number" name="columns" value="8"min="1" max="12" /></li>
                        <li><label for="LEDnum">Number of LEDs</label><input id="LEDnum" type ="number" name="LEDnum" value="1" min="1" max="4"/></li>
                        <li>
                            <fieldset>
                                <p class="legend">LED Specifications</p>
                                <ol id="LEDs">
                                    <li class="template">
                                        <label  for="LED">Wavelength</label> <input class="LED" type="number" name="wavelength" value="0" min="0" width="30px"/>
                                        <div class="LEDDisplay" style="display: inline"> with sim color: <input type="color" style="width: 20px; height: 20px;"/></div>
                                    </li>
                                </ol>
                            </fieldset>
                        </li>
                    </ol>
                </fieldset>
                <fieldset>
                    <p class="legend">Light Program Specifications</p>
                    <ol id="LPSpecs">
                        <li><label for="length">Length of run (minutes)</label><input id="length" type="number" name="length" min="0" value="60"/></li>
                        <li><label for="timestep">Timestep of run (seconds)</label><input id="timestep" type ="number" name="timestep" min="0" step="0.01" value="1"/></li>
                        <li><label for="randomized">Randomize the positions</label><input id="randomized" type="checkbox" name="randomized" value="randomized"/></li>
                        <li><input id="constButt" type="button" value="Add Constant Function"/></li>
                        <li><input id="stepButt" type="button" value="Add Step Function"/></li>
                        <li><input id="sineButt" type="button" value="Add Sine Wave Function"/></li>
                        <li><input id="arbButt" type="button" value="Add Arbitrary Function"/></li>
                    </ol>
                        <fieldset class="func const template">
                            <div class="wrapper"> <!-- Temporary, fixes strange on minimized border rendering bug -->
                                <div class="legend">Constant Input Function</div>
                                <div class="minimize" title="Minimize Function"></div>
                                <div class="maximize" title="Maximize Function"></div>
                                <div class="minClose" title="Close Function"></div>
                            </div>
                            <ol>
                                <li><input class="funcType" type="text" value="constant" style="display: none"/></li>
                                <li><label class="start">Starting position</label><input class="start" type="number" value="1" min="1"/></li>
                                <li>
                                    <label><b>Orientation</b></label><br/>
                                    <input class="RC" type="radio" checked="checked" value="row"/><label class="RC">Rows then Columns</label>
                                    <input class="CR" type="radio" value="column"/><label class="CR">Column then Rows</label>
                                </li>
                                <li><label class="replicates"># of Replicates</label><input class="replicates" type="number" value="1" min="1"/></li>
                                <li><label class="funcWavelength">For wavelength</label>
                                    <select class ="funcWavelength">
                                    </select>
                                </li>
                                <li><label class="ints">Comma seperated list of intensities</label><input class="ints" type="text" placeholder="0,50,100,4095"/></li>
                                <li><input class="close" type = "button" value="Close"/></li>
                            </ol>
                        </fieldset>
                        <fieldset class="func step template">
                            <div class="wrapper"> <!-- Temporary, fixes strange on minimized border rendering bug -->
                                <div class="legend">Step Input Function</div>
                                <div class="minimize" title="Minimize Function"></div>
                                <div class="maximize" title="Maximize Function"></div>
                                <div class="minClose" title="Close Function"></div>
                            </div>
                            <ol>
                                <li><input class="funcType" type="text" value="step" style="display: none"/></li>
                                <li><label class="start">Starting position</label><input class="start" type="number" value="1" min="1"/></li>
                                <li>
                                    <label><b>Orientation</b></label> <br/>
                                    <input class="RC" type="radio" checked="checked" value="row"/><label class="RC">Rows then Columns</label>
                                    <input class="CR" type="radio" value="column"/><label class="CR">Column then Rows</label>
                                </li>
                                <li><label class="replicates"># of Replicates</label><input class="replicates" type="number" value="1" min="1"/></li>
                                    <li><label for="funcWavelength">For wavelength</label>  
                                    <select class = "funcWavelength" name="funcWavelength">
                                    </select>
                                </li><li><label class="amplitude">Amplitude of Step</label><input class="amplitude" type="number" value="4095" min="0" /></li>
                                <li><label class="stepTime">Time into run at which step occurs</label><input class="stepTime" type="number" value="0" min="0" /></li>
                                <li><label class="samples"># of evenly spaced samples to take</label><input class="samples" type="number" value="1" min="1" /></li>
                                <li>
                                    <label><b>Sign</b></label><br/>
                                    <input class="stepUp" type="radio" checked="checked" value="stepUp"/><label class="stepUp">Step Up</label>
                                    <input class="stepDown" type="radio" value="stepDown"/><label class="stepDown">Step Down</label>
                                </li>
                                <li><input class="close" type ="button" value="Close"/></li>
                            </ol>
                        </fieldset>
                        <fieldset class="func sine template">
                            <div class="wrapper"> <!-- Temporary, fixes strange on minimized border rendering bug -->
                                <div class="legend">Sine Wave Input Function</div>
                                <div class="minimize" title="Minimize Function"></div>
                                <div class="maximize" title="Maximize Function"></div>
                                <div class="minClose" title="Close Function"></div>
                            </div>
                            <ol>
                                <li><input class="funcType" type="text" value="sine" style="display: none"/></li>
                                <li><label class="start">Starting position</label><input class="start" type="number" value="1" min="1"/></li>
                                <li>
                                    <label><b>Orientation</b></label><br />
                                    <input class="RC" type="radio" checked="checked" value="row"/><label class="RC">Rows then Columns</label>
                                    <input class="CR" type="radio"value="column"/><label class="CR">Column then Rows</label>
                                </li>
                                <li><label class="replicates"># of Replicates</label><input class="replicates" type="number" value="1" min="1"/></li>
                                <li><label  for="funcWavelength">For wavelength</label>
                                    <select class = "funcWavelength" name="funcWavelength">
                                    </select>
                                </li><li><label class="samples"># of evenly spaced samples to take</label><input class="samples" type="number" value="1" min="1" /></li>
                                <li><label class="amplitude">Amplitude of Wave</label><input class="amplitude" type="number" value="2047" min="0" /></li>
                                <li><label class="period">Period of Wave (minutes)</label><input class="period" type="number" value="0" min="0" /></li>
                                <li><label class="phase">Phase of Wave (minutes)</label><input class="phase" type="number" value="0" min="0" /></li>
                                <li><label class="offset">Verticle offset of Wave</label><input class="offset" type="number" value="2047" min="0" /></li>
                                <li><input class="close" type ="button" value="Close"/></li>
                            </ol>
                        </fieldset>
                        <fieldset class="func arb template">
                            <div class="wrapper"> <!-- Temporary, fixes strange on minimized border rendering bug -->
                                <div class="legend">Arbitrary Input Function</div>
                                <div class="minimize" title="Minimize Function"></div>
                                <div class="maximize" title="Maximize Function"></div>
                                <div class="minClose" title="Close Function"></div>
                            </div>
                            <ol>
                                <li><input class="funcType" type="text" value="arb" style="display: none"/></li>
                                <li><label class="start">Starting position</label><input class="start" type="number" value="1" min="1"/></li>
                                <li>
                                    <label>Orientation</label><br/>
                                    <input class="RC" type="radio" checked="checked"/><label class="RC">Rows then Columns</label>
                                    <input class="CR" type="radio"/><label class="CR">Column then Rows</label>
                                </li>
                                <li><label class="replicates"># of Replicates</label><input class="replicates" type="number" value="1" min="1"/></li>
                                <li><label class="funcWavelength">For wavelength</label>
                                    <select class ="funcWavelength">
                                    </select>
                                </li>
                                <li><div>Upload CSV <div class="help">[Help]:</div>
                                    <!-- <div id="help">HELP</div> -->
                                    <div id="helpText"> <pre>     &#60;Column 1&#62;              &#60;Column 2&#62;             &#60;Column 3&#62;  </pre>
                                                           <pre>&#60;Number of Wells&#62;   &#60;Light Function Time Points&#62;   &#60;Intensities&#62;</pre>
                                    </div></div>
                                    <input class="file" name="file" type="file"/>
                                    <input class="upload" type="button" value="Upload"/></li>
                                <li><input class="close" type = "button" value="Close"/></li>
                            </ol>
                        </fieldset>
                </fieldset>
                <fieldset>
                    <talbe><input type="button" id="submit" value="Load Simulation"/>
                    <div id="download">Download</div></talbe>
                </fieldset>
            </form>
            <div id="visualization">
                <div id="control">
                    <div id="controlInput">
                        <select id="LEDdisplay" style="padding-left: 5px">   
                        </select>
                        <input type ="button" id="view" value ="Well View" style="width: 80px;"/>
                        <div id="wellIndex" style="display: inline">
                            <div id="Row" style="display: inline">&nbsp;Row: <span id="WellRow"> 1 </span> </div>
                            <div id="Col" style="display: inline">Col: <span id="WellCol"> 1 </span> </div>
                        </div>
                        <label for="speed" class="plate">&nbsp;Speed</label><input id="speed" class="plate" type="range" min="0" max="1" step="0.01" value="0.5"/>
                        <input id="play" class="plate"type="button" value="Play" style="width: 50px;"/>
                        <div id="displayTime" class="plate">00:00:00</div>
                    </div>
                    <div id="timerInput">
                        <input id="time" class="plate" type="range" min="0" max="1" step="0.001" value="0" />
                    </div>
                </div>
                <div id="simulation">
                    <div id="plateSim" class="plate">
                        <canvas id="canvas"></canvas>
                    </div>
                    <div id="wellSim" class="well">
                    </div>
                </div>
            </div> 
        </div>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="js/canvasjs.min.js"></script>
        <script src="lib/numeric-1.2.6.js"></script>
        <script src="js/LPFEncoder.js"></script>
        <script src="js/LPI.js"></script>
        <script src="js/FileSaver.js"></script>
    </body>
</html>
